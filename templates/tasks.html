<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="/static/my_script.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>k-pop choreography search</title>
    <style>
        .videos-container {
            display: flex;
        }

        .column {
            flex: 1;
            padding: 10px;
        }

        .video-card {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div class="logo">

    <a href="/"><img src="../static/logo.png" alt="Logotype"></a>
</div>
<!--вот кнопки для перевода-->
<button id="en" class="translate_en header-item-lang-en"><img src="../static/uk.png" width="50" height="40"></button>

<button id="ru" class="translate_rus header-item-lang-en"><img src="../static/rus.jpg" width="50" height="40"></button>

<section>
    <form>
        <div class="container">

            <div class="frame">

                <p class="filter">FILTERS</p>

                <script>
                    document.getElementById("en").addEventListener("click", function() {
                        document.getElementsByClassName("filter")[0].innerHTML = "FILTERS";
                    });

                    document.getElementById("ru").addEventListener("click", function() {
                        document.getElementsByClassName("filter")[0].innerHTML = "ФИЛЬТРЫ";
                    });
                    document.getElementById("en").addEventListener("click", function() {
                        document.getElementsByClassName("zero")[0].innerHTML = "no found";
                    });

                    document.getElementById("ru").addEventListener("click", function() {
                        document.getElementsByClassName("zero")[0].innerHTML = "нет подходящих видео";
                    });
                </script>
                <!--это проблемный div-->
                <div class="tags">
                    {% for group in filter_groups %}
                    <!--здесь я даю в цикле оригинальное название для титлов и переведенное-->
                    <h5 class="title" data-original-title="{{ group['title'] }}"
                        data-translated-title="{{ group['translate_title'] }}">
                        {{ group['title'] }}
                    </h5>

                    <center>
                        {% for filter in group['filters'] %}
                        {% if filter['code'] in request.args %}
                        <!--здесь я даю в цикле оригинальное название для  фильтров и переведенное-->
                        <input type="checkbox" name="{{ filter['code'] }}" checked class="name"
                               data-original-title="{{ filter['name'] }}"
                               data-translated-title="{{ filter['translate'] }}"> {{ filter['name'] }}
                        <br>
                        {% else %}
                        <!--здесь я даю в цикле оригинальное название для фильтров и переведенное-->
                        <input type="checkbox" name="{{ filter['code'] }}" class="name"
                               data-original-title="{{ filter['name'] }}"
                               data-translated-title="{{ filter['translate'] }}"> {{ filter['name'] }}
                        <br>
                        {% endif %}
                        {% endfor %}
                    </center>
                    {% endfor %}
                    <input type="submit" class="submit" value="Search">
                </div>


                <script>
                    //что делать при нажатии на кнопку en
                    document.getElementById("en").addEventListener("click", function() {
                        //на кнопку en меняются титлы на английски/оригинальный
                        document.querySelectorAll(".title").forEach(function(element) {
                            element.innerHTML = element.getAttribute("data-original-title");
                        });
                        //на кнопку en меняются фильтры на английски/оригинальный
                        document.querySelectorAll(".name").forEach(function(element) {
                            element.nextElementSibling.innerHTML = element.getAttribute("data-original-title");
                        });
                    });
                    //что делать при нажатии на кнопку ru
                    document.getElementById("ru").addEventListener("click", function() {
                        //на кнопку en меняются титлы на русский
                        document.querySelectorAll(".title").forEach(function(element) {
                            element.innerHTML = element.getAttribute("data-translated-title");
                        });
                        //на кнопку en меняются фильтры на русский
                        document.querySelectorAll(".name").forEach(function(element) {
                            element.nextElementSibling.innerHTML = element.getAttribute("data-translated-title");
                        });
                    });
                </script>
            <!--ДАЛЬШЕ ВСЕ НОРМАЛЬНО-->
            </div>
            <div class="frame2">
                <div class="searchbar lang" key="">
                    <p><input type="search" name="q" class="search" placeholder="Search for the result"
                              value="{{ request.args.get('q', '') }}">
                        <input type="submit" class="submit" value="Search"></p>
                    <p>
                </div>
                {% if videos %}
                <div class="videos-container">

                    <div class="column">
                        <center>
                            {% for video in videos %}
                            {% if loop.index is even %}
                            <div class="video-card">
                                <center>
                                    <iframe width="320" height="240" src="{{ video }}"></iframe>
                                </center>
                            </div>
                            {% endif %}

                            {% endfor %}
                        </center>
                    </div>
                    <div class="column">

                        {% for video in videos %}
                        {% if loop.index is odd %}
                        <div class="video-card">
                            <center>
                                <iframe width="320" height="240" src="{{ video }}"></iframe>
                            </center>
                        </div>
                        {% endif %}

                        {% endfor %}
                    </div>
                </div>
                {% else %}
                <center><p class="zero"> no found</p></center>
                {% endif %}
                </p>
            </div>

        </div>
    </form>
</section>
</body>
</html>
